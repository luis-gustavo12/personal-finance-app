-- This script seeds the 'countries' table with countries whose currencies are present in the 'currencies' table.
-- It uses a subquery to dynamically link to the correct currency_id.

INSERT INTO countries (description, currency_id, iso_code_2, iso_code_3) VALUES
    ('Andorra', (SELECT id FROM currencies WHERE currency_flag = 'EUR'), 'AD', 'AND'),
    ('Australia', (SELECT id FROM currencies WHERE currency_flag = 'AUD'), 'AU', 'AUS'),
    ('Austria', (SELECT id FROM currencies WHERE currency_flag = 'EUR'), 'AT', 'AUT'),
    ('Belgium', (SELECT id FROM currencies WHERE currency_flag = 'EUR'), 'BE', 'BEL'),
    ('Bhutan', (SELECT id FROM currencies WHERE currency_flag = 'INR'), 'BT', 'BTN'),
    ('Brazil', (SELECT id FROM currencies WHERE currency_flag = 'BRL'), 'BR', 'BRA'),
    ('Brunei', (SELECT id FROM currencies WHERE currency_flag = 'SGD'), 'BN', 'BRN'),
    ('Canada', (SELECT id FROM currencies WHERE currency_flag = 'CAD'), 'CA', 'CAN'),
    ('Chile', (SELECT id FROM currencies WHERE currency_flag = 'CLP'), 'CL', 'CHL'),
    ('China', (SELECT id FROM currencies WHERE currency_flag = 'CNY'), 'CN', 'CHN'),
    ('Croatia', (SELECT id FROM currencies WHERE currency_flag = 'EUR'), 'HR', 'HRV'),
    ('Cyprus', (SELECT id FROM currencies WHERE currency_flag = 'EUR'), 'CY', 'CYP'),
    ('Czech Republic', (SELECT id FROM currencies WHERE currency_flag = 'CZK'), 'CZ', 'CZE'),
    ('Denmark', (SELECT id FROM currencies WHERE currency_flag = 'DKK'), 'DK', 'DNK'),
    ('Ecuador', (SELECT id FROM currencies WHERE currency_flag = 'USD'), 'EC', 'ECU'),
    ('El Salvador', (SELECT id FROM currencies WHERE currency_flag = 'USD'), 'SV', 'SLV'),
    ('Estonia', (SELECT id FROM currencies WHERE currency_flag = 'EUR'), 'EE', 'EST'),
    ('Eswatini', (SELECT id FROM currencies WHERE currency_flag = 'ZAR'), 'SZ', 'SWZ'),
    ('Finland', (SELECT id FROM currencies WHERE currency_flag = 'EUR'), 'FI', 'FIN'),
    ('France', (SELECT id FROM currencies WHERE currency_flag = 'EUR'), 'FR', 'FRA'),
    ('Germany', (SELECT id FROM currencies WHERE currency_flag = 'EUR'), 'DE', 'DEU'),
    ('Greece', (SELECT id FROM currencies WHERE currency_flag = 'EUR'), 'GR', 'GRC'),
    ('Hong Kong', (SELECT id FROM currencies WHERE currency_flag = 'HKD'), 'HK', 'HKG'),
    ('Hungary', (SELECT id FROM currencies WHERE currency_flag = 'HUF'), 'HU', 'HUN'),
    ('India', (SELECT id FROM currencies WHERE currency_flag = 'INR'), 'IN', 'IND'),
    ('Indonesia', (SELECT id FROM currencies WHERE currency_flag = 'IDR'), 'ID', 'IDN'),
    ('Ireland', (SELECT id FROM currencies WHERE currency_flag = 'EUR'), 'IE', 'IRL'),
    ('Israel', (SELECT id FROM currencies WHERE currency_flag = 'ILS'), 'IL', 'ISR'),
    ('Italy', (SELECT id FROM currencies WHERE currency_flag = 'EUR'), 'IT', 'ITA'),
    ('Japan', (SELECT id FROM currencies WHERE currency_flag = 'JPY'), 'JP', 'JPN'),
    ('Kiribati', (SELECT id FROM currencies WHERE currency_flag = 'AUD'), 'KI', 'KIR'),
    ('Latvia', (SELECT id FROM currencies WHERE currency_flag = 'EUR'), 'LV', 'LVA'),
    ('Lesotho', (SELECT id FROM currencies WHERE currency_flag = 'ZAR'), 'LS', 'LSO'),
    ('Liechtenstein', (SELECT id FROM currencies WHERE currency_flag = 'CHF'), 'LI', 'LIE'),
    ('Lithuania', (SELECT id FROM currencies WHERE currency_flag = 'EUR'), 'LT', 'LTU'),
    ('Luxembourg', (SELECT id FROM currencies WHERE currency_flag = 'EUR'), 'LU', 'LUX'),
    ('Marshall Islands', (SELECT id FROM currencies WHERE currency_flag = 'USD'), 'MH', 'MHL'),
    ('Mexico', (SELECT id FROM currencies WHERE currency_flag = 'MXN'), 'MX', 'MEX'),
    ('Micronesia', (SELECT id FROM currencies WHERE currency_flag = 'USD'), 'FM', 'FSM'),
    ('Monaco', (SELECT id FROM currencies WHERE currency_flag = 'EUR'), 'MC', 'MCO'),
    ('Montenegro', (SELECT id FROM currencies WHERE currency_flag = 'EUR'), 'ME', 'MNE'),
    ('Namibia', (SELECT id FROM currencies WHERE currency_flag = 'ZAR'), 'NA', 'NAM'),
    ('Nauru', (SELECT id FROM currencies WHERE currency_flag = 'AUD'), 'NR', 'NRU'),
    ('Nepal', (SELECT id FROM currencies WHERE currency_flag = 'INR'), 'NP', 'NPL'),
    ('Netherlands', (SELECT id FROM currencies WHERE currency_flag = 'EUR'), 'NL', 'NLD'),
    ('New Zealand', (SELECT id FROM currencies WHERE currency_flag = 'NZD'), 'NZ', 'NZL'),
    ('Norway', (SELECT id FROM currencies WHERE currency_flag = 'NOK'), 'NO', 'NOR'),
    ('Palau', (SELECT id FROM currencies WHERE currency_flag = 'USD'), 'PW', 'PLW'),
    ('Panama', (SELECT id FROM currencies WHERE currency_flag = 'USD'), 'PA', 'PAN'),
    ('Philippines', (SELECT id FROM currencies WHERE currency_flag = 'PHP'), 'PH', 'PHL'),
    ('Poland', (SELECT id FROM currencies WHERE currency_flag = 'PLN'), 'PL', 'POL'),
    ('Portugal', (SELECT id FROM currencies WHERE currency_flag = 'EUR'), 'PT', 'PRT'),
    ('Russia', (SELECT id FROM currencies WHERE currency_flag = 'RUB'), 'RU', 'RUS'),
    ('San Marino', (SELECT id FROM currencies WHERE currency_flag = 'EUR'), 'SM', 'SMR'),
    ('Singapore', (SELECT id FROM currencies WHERE currency_flag = 'SGD'), 'SG', 'SGP'),
    ('Slovakia', (SELECT id FROM currencies WHERE currency_flag = 'EUR'), 'SK', 'SVK'),
    ('Slovenia', (SELECT id FROM currencies WHERE currency_flag = 'EUR'), 'SI', 'SVN'),
    ('South Africa', (SELECT id FROM currencies WHERE currency_flag = 'ZAR'), 'ZA', 'ZAF'),
    ('South Korea', (SELECT id FROM currencies WHERE currency_flag = 'KRW'), 'KR', 'KOR'),
    ('Spain', (SELECT id FROM currencies WHERE currency_flag = 'EUR'), 'ES', 'ESP'),
    ('Sweden', (SELECT id FROM currencies WHERE currency_flag = 'SEK'), 'SE', 'SWE'),
    ('Switzerland', (SELECT id FROM currencies WHERE currency_flag = 'CHF'), 'CH', 'CHE'),
    ('Thailand', (SELECT id FROM currencies WHERE currency_flag = 'THB'), 'TH', 'THA'),
    ('Timor-Leste', (SELECT id FROM currencies WHERE currency_flag = 'USD'), 'TL', 'TLS'),
    ('Turkey', (SELECT id FROM currencies WHERE currency_flag = 'TRY'), 'TR', 'TUR'),
    ('Tuvalu', (SELECT id FROM currencies WHERE currency_flag = 'AUD'), 'TV', 'TUV'),
    ('United Arab Emirates', (SELECT id FROM currencies WHERE currency_flag = 'AED'), 'AE', 'ARE'),
    ('United Kingdom', (SELECT id FROM currencies WHERE currency_flag = 'GBP'), 'GB', 'GBR'),
    ('United States', (SELECT id FROM currencies WHERE currency_flag = 'USD'), 'US', 'USA'),
    ('Vatican City', (SELECT id FROM currencies WHERE currency_flag = 'EUR'), 'VA', 'VAT'),
    ('Zimbabwe', (SELECT id FROM currencies WHERE currency_flag = 'USD'), 'ZW', 'ZWE');